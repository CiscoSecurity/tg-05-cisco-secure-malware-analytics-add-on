import { isEmpty } from 'lodash'

import { queueToast } from './components/Notifications/ToastSlice'

export const errorHandler = (dispatch, request) => {
  try {
    return request && request()
  } catch (e) {
    console.log(e)
    dispatch(queueToast({
      toastLevel: 'error',
      title: 'Error Status',
      message: isEmpty(e) ? 'General Error' : e
    }))
  }
}
