import cx from 'classnames'
import PropTypes from 'prop-types'

import { Left, Right } from '../Icons/Icons'

import styles from './Pagination.module.scss'

const Pagination = ({ pages, setPage, currentPage }) => {
  const pageNumbers = Array.from({ length: pages }, (_, index) => index + 1)

  return (
    <ul className="pagination">
      <li
        className={cx('pagination__item', currentPage === 1 && 'disabled')}
        onClick={() => setPage(currentPage - 1)}
      >
        <a className={cx(
          styles.link,
          currentPage === 1 && styles['link-disabled'],
          'pagination__link pagination__link--type-text'
        )}>
          <Left color={currentPage === 1 ? '#7f7f86' : '#049fd9'}/>
          <span>Previous</span>
        </a>
      </li>
      {pageNumbers.map(pageNumber => (
        <li
          key={pageNumber}
          onClick={() => setPage(pageNumber)}
          className={cx('pagination__item', pageNumber === currentPage && 'active')}
        >
          <a className="pagination__link pagination__link--type-bordered">{pageNumber}</a>
        </li>
      ))}
      <li
        className={cx('pagination__item', currentPage === pages && 'disabled')}
        onClick={() => setPage(currentPage + 1)}
      >
        <a className={cx(
          styles.link,
          currentPage === pages && styles['link-disabled'],
          'pagination__link pagination__link--type-text'
        )}>
          <span>Next</span>
          <Right color={currentPage === pages ? '#7f7f86' : '#049fd9'}/>
        </a>
      </li>
    </ul>
  )
}

Pagination.propTypes = {
  pages: PropTypes.number,
  setPage: PropTypes.func,
  currentPage: PropTypes.number
}

export default Pagination
